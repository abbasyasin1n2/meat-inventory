{% extends "base.html" %}
{% block title %}{{ 'Edit' if rule else 'Add' }} Reorder Rule{% endblock %}
{% block content %}
<div class="content-card">
  <div class="card-title-with-button"><h4>{{ 'Edit' if rule else 'Add' }} Reorder Rule</h4></div>
  <form method="post" style="max-width:520px;">
    <div class="input-field">
      <label>Product</label>
      <select class="browser-default" name="product_id" required>
        <option value="">Select product</option>
        {% for p in products %}
        <option value="{{ p.id }}" {% if rule and rule.product_id==p.id %}selected{% endif %}>{{ p.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="input-field">
      <label for="min_qty">Min Qty</label>
      <input type="number" step="0.01" name="min_qty" id="min_qty" value="{{ rule.min_qty if rule else '' }}" required>
    </div>
    <div class="input-field">
      <label for="target_qty">Target Qty</label>
      <input type="number" step="0.01" name="target_qty" id="target_qty" value="{{ rule.target_qty if rule else '' }}" required>
    </div>
    <p>
      <label>
        <input type="checkbox" name="active" {% if not rule or rule.active %}checked{% endif %}>
        <span>Active</span>
      </label>
    </p>
    <div style="margin-top:12px;display:flex;gap:8px;">
      <button type="submit" class="btn">Save</button>
      <a class="btn grey" href="{{ url_for('distribution.list_reorder_rules') }}">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}


